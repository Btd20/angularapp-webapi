<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-...." crossorigin="anonymous" />

<app-navbar></app-navbar>
<div class="admin-container" *ngIf="isAdmin">
  <p>Edici√≥ d'usuaris</p>
  <ul class="user-list">
    <li class="user-item" *ngFor="let usuario of usuaris | slice:(currentPage-1)*pageSize:currentPage*pageSize">
      <span class="user-icon"><i class="fas fa-user"></i></span>
      <span class="user-name">{{ usuario.userName }}</span>
      <button (click)="editarUsuario(usuario)">Editar</button>

      <div class="edit-form" *ngIf="usuario.editando">
        <form (ngSubmit)="guardarCanvis(usuario)">
          <label for="nombre">Nom:</label>
          <input type="text" id="nombre" [(ngModel)]="usuario.userName" name="nom" required>

          <label for="correo">Correu:</label>
          <input type="email" id="correo" [(ngModel)]="usuario.email" name="correu" required>

          <label for="rol">Administrador:</label>
          <input type="checkbox" id="rol" [(ngModel)]="usuario.rol" name="rol">

          <button type="submit">Guardar canvis</button>
          <button type="button" (click)="cancelarEdicion(usuario)">Cancelar</button>
        </form>
      </div>
    </li>
  </ul>
  <div class="pagination">
    <button (click)="previousPage()" [disabled]="currentPage === 1" [class.disabled]="currentPage === 1">
      <i class="fas fa-chevron-left"></i>
    </button>
    <button (click)="nextPage()" [disabled]="currentPage === totalPages" [class.disabled]="currentPage === totalPages">
      <i class="fas fa-chevron-right"></i>
    </button>
  </div>
</div>
